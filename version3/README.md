version3 is based off version1 but introduces classes.
Code is now being re-used a lot less, but still a lot is still needed be optimized to cater for additional instruments to be added.
Combining this version and version2, creates version4.
